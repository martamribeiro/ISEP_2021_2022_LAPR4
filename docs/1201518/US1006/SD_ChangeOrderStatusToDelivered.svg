<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1035px" preserveAspectRatio="none" style="width:1541px;height:1035px;" version="1.1" viewBox="0 0 1541 1035" width="1541px" zoomAndPan="magnify"><defs><filter height="300%" id="f114x3uts3rsot" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="838.7891" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="512.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="302" y="138.3125"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="256.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="302" y="681.6406"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="396.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="592" y="199.0156"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="592" y="711.9922"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="335.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="835" y="229.3672"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="15" style="stroke:#A80036;stroke-width:1.0;" width="10" x="962" y="527.8828"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="962" y="802.6953"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1177" y="259.7188"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1324" y="350.7734"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1456.5" y="441.8281"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1456.5" y="742.3438"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1456.5" y="863.0469"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="264" x="753" y="487.1797"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="320.8125" style="stroke:#000000;stroke-width:2.0;" width="1517" x="10" y="610.5859"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="59" x2="59" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="307" x2="307" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="597" x2="597" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="840" x2="840" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="967" x2="967" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1059" x2="1059" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1182" x2="1182" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1329" x2="1329" y1="89.6094" y2="948.3984"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1461" x2="1461" y1="89.6094" y2="948.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="20" y="86.5332">Sales Clerk</text><ellipse cx="59" cy="15" fill="#FEFECE" filter="url(#f114x3uts3rsot)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M59,23 L59,50 M46,31 L72,31 M59,50 L46,65 M59,50 L72,65 " fill="none" filter="url(#f114x3uts3rsot)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="20" y="961.9316">Sales Clerk</text><ellipse cx="59" cy="975.0078" fill="#FEFECE" filter="url(#f114x3uts3rsot)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M59,983.0078 L59,1010.0078 M46,991.0078 L72,991.0078 M59,1010.0078 L46,1025.0078 M59,1010.0078 L72,1025.0078 " fill="none" filter="url(#f114x3uts3rsot)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="206" x="202" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="257.5" y="56.9238">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192" x="209" y="74.5332">ViewOrdersSentToCustomerUI</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="206" x="202" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="257.5" y="968.9316">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="192" x="209" y="986.541">ViewOrdersSentToCustomerUI</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="256" x="467" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="553" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="474" y="74.5332">ViewOrdersSentToCustomerController</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="256" x="467" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="553" y="968.9316">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="242" x="474" y="986.541">ViewOrdersSentToCustomerController</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="150" x="763" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="796" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="770" y="74.5332">ListOrderDTOService</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="150" x="763" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="796" y="968.9316">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="770" y="986.541">ListOrderDTOService</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="76" x="927" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="934" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="934" y="74.5332">TheOrder</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="76" x="927" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="934" y="968.9316">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="934" y="986.541">TheOrder</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="81" x="1017" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="1039.5" y="56.9238">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1024" y="74.5332">OrderDTO</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="81" x="1017" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="1039.5" y="968.9316">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="1024" y="986.541">OrderDTO</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1112" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1135.5" y="56.9238">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1119" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1112" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1135.5" y="968.9316">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1119" y="986.541">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1262" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1297.5" y="56.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1269" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f114x3uts3rsot)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1262" y="947.3984"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1297.5" y="968.9316">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1269" y="986.541">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1419" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1406" y="86.5332">OrderRepository</text><path d="M1443.5,18.3906 C1443.5,8.3906 1461.5,8.3906 1461.5,8.3906 C1461.5,8.3906 1479.5,8.3906 1479.5,18.3906 L1479.5,44.3906 C1479.5,54.3906 1461.5,54.3906 1461.5,54.3906 C1461.5,54.3906 1443.5,54.3906 1443.5,44.3906 L1443.5,18.3906 " fill="#FEFECE" filter="url(#f114x3uts3rsot)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1443.5,18.3906 C1443.5,28.3906 1461.5,28.3906 1461.5,28.3906 C1461.5,28.3906 1479.5,28.3906 1479.5,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1419" y="961.9316">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1406" y="979.541">OrderRepository</text><path d="M1443.5,992.6172 C1443.5,982.6172 1461.5,982.6172 1461.5,982.6172 C1461.5,982.6172 1479.5,982.6172 1479.5,992.6172 L1479.5,1018.6172 C1479.5,1028.6172 1461.5,1028.6172 1461.5,1028.6172 C1461.5,1028.6172 1443.5,1028.6172 1443.5,1018.6172 L1443.5,992.6172 " fill="#FEFECE" filter="url(#f114x3uts3rsot)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1443.5,992.6172 C1443.5,1002.6172 1461.5,1002.6172 1461.5,1002.6172 C1461.5,1002.6172 1479.5,1002.6172 1479.5,992.6172 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="838.7891" style="stroke:#A80036;stroke-width:1.0;" width="10" x="54" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="512.9766" style="stroke:#A80036;stroke-width:1.0;" width="10" x="302" y="138.3125"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="256.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="302" y="681.6406"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="396.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="592" y="199.0156"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="181.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="592" y="711.9922"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="335.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="835" y="229.3672"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="15" style="stroke:#A80036;stroke-width:1.0;" width="10" x="962" y="527.8828"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="962" y="802.6953"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1177" y="259.7188"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1324" y="350.7734"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1456.5" y="441.8281"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1456.5" y="742.3438"/><rect fill="#FFFFFF" filter="url(#f114x3uts3rsot)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1456.5" y="863.0469"/><polygon fill="#A80036" points="290,134.3125,300,138.3125,290,142.3125,294,138.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="296" y1="138.3125" y2="138.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="71" y="125.2803">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="82" y="117.1045">quer visualizar as encomendas</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="82" y="133.4561">no estado Dispatched for Client</text><polygon fill="#A80036" points="585,164.6641,595,168.6641,585,172.6641,589,168.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="312" x2="591" y1="168.6641" y2="168.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="319" y="163.8076">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="330" y="163.8076">create</text><polygon fill="#A80036" points="580,195.0156,590,199.0156,580,203.0156,584,199.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="312" x2="586" y1="199.0156" y2="199.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="319" y="194.1592">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="250" x="330" y="194.1592">getOrdersDispatchedForCustomerDelivery()</text><polygon fill="#A80036" points="823,225.3672,833,229.3672,823,233.3672,827,229.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="602" x2="829" y1="229.3672" y2="229.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="609" y="224.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="620" y="224.5107">findOrdersByStatus(DISPATCHED)</text><polygon fill="#A80036" points="1165,255.7188,1175,259.7188,1165,263.7188,1169,259.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="845" x2="1171" y1="259.7188" y2="259.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="852" y="254.8623">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="863" y="254.8623">repositories()</text><polygon fill="#A80036" points="1317,286.0703,1327,290.0703,1317,294.0703,1321,290.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1187" x2="1323" y1="290.0703" y2="290.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1194" y="285.2139">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1205" y="285.2139">create</text><polygon fill="#A80036" points="856,316.4219,846,320.4219,856,324.4219,852,320.4219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="850" x2="1181" y1="320.4219" y2="320.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="862" y="315.5654">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="873" y="315.5654">factory</text><polygon fill="#A80036" points="1312,346.7734,1322,350.7734,1312,354.7734,1316,350.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="845" x2="1318" y1="350.7734" y2="350.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="852" y="345.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="863" y="345.917">orders()</text><polygon fill="#A80036" points="1449.5,377.125,1459.5,381.125,1449.5,385.125,1453.5,381.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1334" x2="1455.5" y1="381.125" y2="381.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1341" y="376.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1352" y="376.2686">create</text><polygon fill="#A80036" points="856,407.4766,846,411.4766,856,415.4766,852,411.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="850" x2="1328" y1="411.4766" y2="411.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="406.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="880" y="406.6201">orderRepository</text><polygon fill="#A80036" points="1444.5,437.8281,1454.5,441.8281,1444.5,445.8281,1448.5,441.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="845" x2="1450.5" y1="441.8281" y2="441.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="852" y="436.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="203" x="870" y="436.9717">findOrdersByStatus(DISPATCHED)</text><polygon fill="#A80036" points="856,468.1797,846,472.1797,856,476.1797,852,472.1797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="850" x2="1460.5" y1="472.1797" y2="472.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="467.3232">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="57" x="880" y="467.3232">ordersList</text><path d="M753,487.1797 L826,487.1797 L826,495.1797 L816,505.1797 L753,505.1797 L753,487.1797 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="264" x="753" y="487.1797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="768" y="501.6748">loop</text><polygon fill="#A80036" points="950,523.8828,960,527.8828,950,531.8828,954,527.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="845" x2="956" y1="527.8828" y2="527.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="852" y="523.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="870" y="523.0264">toDTO()</text><polygon fill="#A80036" points="613,561.2344,603,565.2344,613,569.2344,609,565.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="607" x2="839" y1="565.2344" y2="565.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="619" y="560.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="637" y="560.3779">ordersListDTO</text><polygon fill="#A80036" points="323,591.5859,313,595.5859,323,599.5859,319,595.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="317" x2="596" y1="595.5859" y2="595.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="329" y="590.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="83" x="347" y="590.7295">ordersListDTO</text><path d="M10,610.5859 L83,610.5859 L83,618.5859 L73,628.5859 L10,628.5859 L10,610.5859 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="320.8125" style="stroke:#000000;stroke-width:2.0;" width="1517" x="10" y="610.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="625.0811">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="284" x="98" y="624.0049">[enquanto desejar alterar o status de encomendas]</text><polygon fill="#A80036" points="75,647.2891,65,651.2891,75,655.2891,71,651.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="306" y1="651.2891" y2="651.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81" y="646.4326">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="175" x="99" y="646.4326">mostra a lista de encomendas</text><polygon fill="#A80036" points="290,677.6406,300,681.6406,290,685.6406,294,681.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="64" x2="296" y1="681.6406" y2="681.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="71" y="676.7842">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="89" y="676.7842">seleciona a encomenda pretendida</text><polygon fill="#A80036" points="580,707.9922,590,711.9922,580,715.9922,584,711.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="312" x2="586" y1="711.9922" y2="711.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="319" y="707.1357">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="226" x="337" y="707.1357">changeStatusToBeingDelivered(orderId)</text><polygon fill="#A80036" points="1444.5,738.3438,1454.5,742.3438,1444.5,746.3438,1448.5,742.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="602" x2="1450.5" y1="742.3438" y2="742.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="609" y="737.4873">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="99" x="627" y="737.4873">ofIdentity(orderId)</text><polygon fill="#A80036" points="950,798.6953,960,802.6953,950,806.6953,954,802.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="602" x2="956" y1="802.6953" y2="802.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="609" y="797.8389">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="627" y="797.8389">changeOrderStatusTo(DELIVERED_BY_CARRIER)</text><polygon fill="#A80036" points="1444.5,859.0469,1454.5,863.0469,1444.5,867.0469,1448.5,863.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="602" x2="1450.5" y1="863.0469" y2="863.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="609" y="858.1904">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="63" x="627" y="858.1904">save(order)</text><polygon fill="#A80036" points="75,919.3984,65,923.3984,75,927.3984,71,923.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="69" x2="301" y1="923.3984" y2="923.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81" y="918.542">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="99" y="918.542">informa o sucesso da operação</text><!--MD5=[5368ea89f663c1e5102eccb8fc6d8a8d]
@startuml

autonumber
actor "Sales Clerk" as SC
participant ViewOrdersSentToCustomerUI as UI <<presentation>>
participant ViewOrdersSentToCustomerController as Controller <<application>>
participant ListOrderDTOService as serv <<application>>
participant "TheOrder" as Domain <<domain>>
participant "OrderDTO" as DTO <<dto>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as repository <<repository>>

activate SC
SC -> UI : quer visualizar as encomendas\nno estado Dispatched for Client
activate UI
UI -> Controller: create
UI -> Controller: getOrdersDispatchedForCustomerDelivery()
activate Controller
Controller -> serv: findOrdersByStatus(DISPATCHED)
activate serv
serv -> Persistence: repositories()
activate Persistence
Persistence -> Factory: create
Persistence -> serv: factory
deactivate Persistence
serv -> Factory: orders()
activate Factory
Factory -> repository: create
Factory -> serv: orderRepository
deactivate Factory
serv->repository:findOrdersByStatus(DISPATCHED)
activate repository
repository - -> serv: ordersList
deactivate repository
loop
serv -> Domain: toDTO()
activate Domain
end
deactivate Domain
serv - -> Controller: ordersListDTO
deactivate serv
Controller - -> UI: ordersListDTO
deactivate Controller
loop enquanto desejar alterar o status de encomendas
UI - -> SC : mostra a lista de encomendas
deactivate UI
/'loop enquanto desejar alterar o status de encomendas'/
/'SC -> UI : Pergunta se pretende alterar o status de alguma\nencomenda para Being Delivered
activate UI'/
/'alt deseja alterar o status'/
/'UI - -> SC : solicita o id da encomenda
activate UI'/
deactivate UI
SC -> UI : seleciona a encomenda pretendida
activate UI
UI -> Controller: changeStatusToBeingDelivered(orderId)
activate Controller
Controller->repository:ofIdentity(orderId)
activate repository
deactivate repository
Controller -> Domain: changeOrderStatusTo(DELIVERED_BY_CARRIER)
activate Domain
deactivate Domain
Controller - -> repository: save(order)
activate repository
deactivate repository
deactivate Controller
UI - -> SC : informa o sucesso da operação
/'end'/
end
deactivate UI
deactivate SC

@enduml

@startuml

autonumber
actor "Sales Clerk" as SC
participant ViewOrdersSentToCustomerUI as UI <<presentation>>
participant ViewOrdersSentToCustomerController as Controller <<application>>
participant ListOrderDTOService as serv <<application>>
participant "TheOrder" as Domain <<domain>>
participant "OrderDTO" as DTO <<dto>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as repository <<repository>>

activate SC
SC -> UI : quer visualizar as encomendas\nno estado Dispatched for Client
activate UI
UI -> Controller: create
UI -> Controller: getOrdersDispatchedForCustomerDelivery()
activate Controller
Controller -> serv: findOrdersByStatus(DISPATCHED)
activate serv
serv -> Persistence: repositories()
activate Persistence
Persistence -> Factory: create
Persistence -> serv: factory
deactivate Persistence
serv -> Factory: orders()
activate Factory
Factory -> repository: create
Factory -> serv: orderRepository
deactivate Factory
serv->repository:findOrdersByStatus(DISPATCHED)
activate repository
repository - -> serv: ordersList
deactivate repository
loop
serv -> Domain: toDTO()
activate Domain
end
deactivate Domain
serv - -> Controller: ordersListDTO
deactivate serv
Controller - -> UI: ordersListDTO
deactivate Controller
loop enquanto desejar alterar o status de encomendas
UI - -> SC : mostra a lista de encomendas
deactivate UI
deactivate UI
SC -> UI : seleciona a encomenda pretendida
activate UI
UI -> Controller: changeStatusToBeingDelivered(orderId)
activate Controller
Controller->repository:ofIdentity(orderId)
activate repository
deactivate repository
Controller -> Domain: changeOrderStatusTo(DELIVERED_BY_CARRIER)
activate Domain
deactivate Domain
Controller - -> repository: save(order)
activate repository
deactivate repository
deactivate Controller
UI - -> SC : informa o sucesso da operação
end
deactivate UI
deactivate SC

@enduml

PlantUML version 1.2021.4(Sun Apr 04 09:49:39 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>