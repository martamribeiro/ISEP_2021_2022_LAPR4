<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1563px" preserveAspectRatio="none" style="width:1894px;height:1563px;" version="1.1" viewBox="0 0 1894 1563" width="1894px" zoomAndPan="magnify"><defs><filter height="300%" id="f1cqbey59kwsc3" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="1359.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="64" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="93.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="229.3672"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="82.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="353.4453"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="62.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="466.1719"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="899.5469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="559.2266"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="799.1406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="845" y="612.9297"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="107.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1086" y="1021.5"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="101.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1554.5" y="1159.2578"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1701.5" y="1290.6641"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="124.0781" style="stroke:#000000;stroke-width:2.0;" width="536.5" x="10" y="244.3672"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="516.5" x="20" y="269.7188"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="516.5" x="20" y="382.4453"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="516.5" x="20" y="488.1719"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="755.5" y="880.7422"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="755.5" y="943.4453"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="69" x2="69" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="466.5" x2="466.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="849.5" x2="849.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1091" x2="1091" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1433.5" x2="1433.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1559.5" x2="1559.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1706.5" x2="1706.5" y1="89.6094" y2="1476.7734"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1838.5" x2="1838.5" y1="89.6094" y2="1476.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="30" y="86.5332">Sales Clerk</text><ellipse cx="69" cy="15" fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M69,23 L69,50 M56,31 L82,31 M69,50 L56,65 M69,50 L82,65 " fill="none" filter="url(#f1cqbey59kwsc3)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="30" y="1490.3066">Sales Clerk</text><ellipse cx="69" cy="1503.3828" fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M69,1511.3828 L69,1538.3828 M56,1519.3828 L82,1519.3828 M69,1538.3828 L56,1553.3828 M69,1538.3828 L82,1553.3828 " fill="none" filter="url(#f1cqbey59kwsc3)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="407.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="417.5" y="56.9238">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="414.5" y="74.5332">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="115" x="407.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="417.5" y="1497.3066">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="101" x="414.5" y="1514.916">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="165" x="765.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="806" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="772.5" y="74.5332">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="165" x="765.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="806" y="1497.3066">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="772.5" y="1514.916">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="1042" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1059.5" y="56.9238">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1049" y="74.5332">ClientBuilder</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="94" x="1042" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1059.5" y="1497.3066">«builder»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1049" y="1514.916">ClientBuilder</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1388.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1401" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1395.5" y="74.5332">client:Client</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="87" x="1388.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="1401" y="1497.3066">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="73" x="1395.5" y="1514.916">client:Client</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1489.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1513" y="56.9238">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1496.5" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="1489.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1513" y="1497.3066">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1496.5" y="1514.916">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1639.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1675" y="56.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1646.5" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1639.5" y="1475.7734"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1675" y="1497.3066">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1646.5" y="1514.916">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1796" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1783.5" y="86.5332">ClientRepository</text><path d="M1820.5,18.3906 C1820.5,8.3906 1838.5,8.3906 1838.5,8.3906 C1838.5,8.3906 1856.5,8.3906 1856.5,18.3906 L1856.5,44.3906 C1856.5,54.3906 1838.5,54.3906 1838.5,54.3906 C1838.5,54.3906 1820.5,54.3906 1820.5,44.3906 L1820.5,18.3906 " fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1820.5,18.3906 C1820.5,28.3906 1838.5,28.3906 1838.5,28.3906 C1838.5,28.3906 1856.5,28.3906 1856.5,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1796" y="1490.3066">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="1783.5" y="1507.916">ClientRepository</text><path d="M1820.5,1520.9922 C1820.5,1510.9922 1838.5,1510.9922 1838.5,1510.9922 C1838.5,1510.9922 1856.5,1510.9922 1856.5,1520.9922 L1856.5,1546.9922 C1856.5,1556.9922 1838.5,1556.9922 1838.5,1556.9922 C1838.5,1556.9922 1820.5,1556.9922 1820.5,1546.9922 L1820.5,1520.9922 " fill="#FEFECE" filter="url(#f1cqbey59kwsc3)" style="stroke:#000000;stroke-width:1.5;"/><path d="M1820.5,1520.9922 C1820.5,1530.9922 1838.5,1530.9922 1838.5,1530.9922 C1838.5,1530.9922 1856.5,1530.9922 1856.5,1520.9922 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="1359.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="64" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="77.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="93.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="229.3672"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="82.375" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="353.4453"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="62.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="466.1719"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="899.5469" style="stroke:#A80036;stroke-width:1.0;" width="10" x="462" y="559.2266"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="799.1406" style="stroke:#A80036;stroke-width:1.0;" width="10" x="845" y="612.9297"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="107.4063" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1086" y="1021.5"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="101.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1554.5" y="1159.2578"/><rect fill="#FFFFFF" filter="url(#f1cqbey59kwsc3)" height="60.7031" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1701.5" y="1290.6641"/><polygon fill="#A80036" points="450,117.9609,460,121.9609,450,125.9609,454,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="456" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="144" x="92" y="117.1045">inicia o registo do cliente</text><polygon fill="#A80036" points="838,148.3125,848,152.3125,838,156.3125,842,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="472" x2="844" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="479" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="490" y="147.4561">create</text><polygon fill="#A80036" points="85,195.0156,75,199.0156,85,203.0156,81,199.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="466" y1="199.0156" y2="199.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="185.9834">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="349" x="102" y="177.8076">solicita os dados obrigatórios (firstNames, surnames, Email,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="216" x="102" y="194.1592">PhoneNumber, VAT, Postal Address)</text><polygon fill="#A80036" points="450,225.3672,460,229.3672,450,233.3672,454,229.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="456" y1="229.3672" y2="229.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="224.5107">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="169" x="92" y="224.5107">introduz os dados solicitados</text><path d="M10,244.3672 L71,244.3672 L71,252.3672 L61,262.3672 L10,262.3672 L10,244.3672 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="124.0781" style="stroke:#000000;stroke-width:2.0;" width="536.5" x="10" y="244.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="25" y="258.8623">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="250" x="86" y="257.7861">[sales Clerk quer introduzir mais endereços]</text><path d="M20,269.7188 L93,269.7188 L93,277.7188 L83,287.7188 L20,287.7188 L20,269.7188 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="516.5" x="20" y="269.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="35" y="284.2139">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="163" x="108" y="283.1377">[o Sales Clerk quer introduzir</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="94" x="108" y="296.9736">mais endereços]</text><polygon fill="#A80036" points="85,319.0938,75,323.0938,85,327.0938,81,323.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="466" y1="323.0938" y2="323.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="318.2373">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="111" x="102" y="318.2373">Solicita o endereço</text><polygon fill="#A80036" points="450,349.4453,460,353.4453,450,357.4453,454,353.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="456" y1="353.4453" y2="353.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="348.5889">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="114" x="92" y="348.5889">Introduz o endereço</text><path d="M20,382.4453 L81,382.4453 L81,390.4453 L71,400.4453 L20,400.4453 L20,382.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="91.7266" style="stroke:#000000;stroke-width:2.0;" width="516.5" x="20" y="382.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="396.9404">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="115" x="96" y="395.8643">[sales Clerk insere a</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="169" x="96" y="409.7002">data de nascimento do cliente]</text><polygon fill="#A80036" points="85,431.8203,75,435.8203,85,439.8203,81,435.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="466" y1="435.8203" y2="435.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="430.9639">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="170" x="102" y="430.9639">solicita a data de nascimento</text><polygon fill="#A80036" points="450,462.1719,460,466.1719,450,470.1719,454,466.1719" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="456" y1="466.1719" y2="466.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="81" y="461.3154">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="164" x="92" y="461.3154">introduz data de nascimento</text><path d="M20,488.1719 L81,488.1719 L81,496.1719 L71,506.1719 L20,506.1719 L20,488.1719 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="79.0547" style="stroke:#000000;stroke-width:2.0;" width="516.5" x="20" y="488.1719"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="35" y="502.667">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="220" x="96" y="501.5908">[sales Clerk insere o género do cliente]</text><polygon fill="#A80036" points="85,524.875,75,528.875,85,532.875,81,528.875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="79" x2="466" y1="528.875" y2="528.875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="91" y="524.0186">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="95" x="102" y="524.0186">solicita o género</text><polygon fill="#A80036" points="450,555.2266,460,559.2266,450,563.2266,454,559.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="74" x2="456" y1="559.2266" y2="559.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="81" y="554.3701">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="100" x="99" y="554.3701">introduz o género</text><polygon fill="#A80036" points="833,608.9297,843,612.9297,833,616.9297,837,612.9297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="472" x2="839" y1="612.9297" y2="612.9297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="479" y="599.8975">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="336" x="497" y="591.7217">registerClient(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="497" y="608.0732">vat, postalAddress, birthDate, gender)</text><path d="M1096,625.9297 L1096,651.9297 L1568,651.9297 L1568,635.9297 L1558,625.9297 L1096,625.9297 " fill="#FBFB77" filter="url(#f1cqbey59kwsc3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1558,625.9297 L1558,635.9297 L1568,635.9297 L1558,625.9297 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="451" x="1102" y="644.4248">ClientBuilder é usado para criar uma entidade do tipo Client num estado válido</text><polygon fill="#A80036" points="1079,679.6328,1089,683.6328,1079,687.6328,1083,683.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="683.6328" y2="683.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="678.7764">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="880" y="678.7764">create</text><polygon fill="#A80036" points="1079,709.9844,1089,713.9844,1079,717.9844,1083,713.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="713.9844" y2="713.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="709.1279">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="146" x="880" y="709.1279">setFirstName(firstnames)</text><polygon fill="#A80036" points="1079,740.3359,1089,744.3359,1079,748.3359,1083,744.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="744.3359" y2="744.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="739.4795">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="880" y="739.4795">setSurnames(surnames)</text><polygon fill="#A80036" points="1079,770.6875,1089,774.6875,1079,778.6875,1083,774.6875" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="774.6875" y2="774.6875"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="769.8311">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90" x="880" y="769.8311">setEmail(email)</text><polygon fill="#A80036" points="1079,801.0391,1089,805.0391,1079,809.0391,1083,805.0391" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="805.0391" y2="805.0391"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="800.1826">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="188" x="880" y="800.1826">setPhoneNumber(phoneNumber)</text><polygon fill="#A80036" points="1079,831.3906,1089,835.3906,1079,839.3906,1083,835.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="835.3906" y2="835.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="830.5342">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="880" y="830.5342">setVAT(vat)</text><polygon fill="#A80036" points="1079,861.7422,1089,865.7422,1079,869.7422,1083,865.7422" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="865.7422" y2="865.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="860.8857">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="194" x="880" y="860.8857">setPostalAddress(postalAddress)</text><path d="M755.5,880.7422 L816.5,880.7422 L816.5,888.7422 L806.5,898.7422 L755.5,898.7422 L755.5,880.7422 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="755.5" y="880.7422"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="770.5" y="895.2373">alt</text><polygon fill="#A80036" points="1079,917.4453,1089,921.4453,1079,925.4453,1083,921.4453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="921.4453" y2="921.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="916.5889">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="132" x="880" y="916.5889">setBirthDate(birthDate)</text><path d="M755.5,943.4453 L816.5,943.4453 L816.5,951.4453 L806.5,961.4453 L755.5,961.4453 L755.5,943.4453 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="394.5" x="755.5" y="943.4453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="770.5" y="957.9404">alt</text><polygon fill="#A80036" points="1079,980.1484,1089,984.1484,1079,988.1484,1083,984.1484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1085" y1="984.1484" y2="984.1484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="979.292">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="107" x="880" y="979.292">setGender(gender)</text><polygon fill="#A80036" points="1074,1017.5,1084,1021.5,1074,1025.5,1078,1021.5" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1080" y1="1021.5" y2="1021.5"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="1016.6436">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="880" y="1016.6436">createClient()</text><polygon fill="#A80036" points="1422,1064.2031,1432,1068.2031,1422,1072.2031,1426,1068.2031" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1096" x2="1428" y1="1068.2031" y2="1068.2031"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1103" y="1055.1709">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="296" x="1121" y="1046.9951">create(firstnames, surnames, email, phoneNumber,</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="218" x="1121" y="1063.3467">vat, postalAddress, birthDate, gender)</text><polygon fill="#A80036" points="1107,1094.5547,1097,1098.5547,1107,1102.5547,1103,1098.5547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1101" x2="1433" y1="1098.5547" y2="1098.5547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1113" y="1093.6982">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="1131" y="1093.6982">client</text><polygon fill="#A80036" points="866,1124.9063,856,1128.9063,866,1132.9063,862,1128.9063" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="860" x2="1090" y1="1128.9063" y2="1128.9063"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="872" y="1124.0498">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="890" y="1124.0498">client</text><polygon fill="#A80036" points="1542.5,1155.2578,1552.5,1159.2578,1542.5,1163.2578,1546.5,1159.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1548.5" y1="1159.2578" y2="1159.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="1154.4014">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="880" y="1154.4014">repositories()</text><path d="M1569,1172.2578 L1569,1198.2578 L1833,1198.2578 L1833,1182.2578 L1823,1172.2578 L1569,1172.2578 " fill="#FBFB77" filter="url(#f1cqbey59kwsc3)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1823,1172.2578 L1823,1182.2578 L1833,1182.2578 L1823,1172.2578 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="243" x="1575" y="1190.7529">pode criar repositório em memória ou JPA</text><polygon fill="#A80036" points="1694.5,1225.9609,1704.5,1229.9609,1694.5,1233.9609,1698.5,1229.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1564.5" x2="1700.5" y1="1229.9609" y2="1229.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1571.5" y="1225.1045">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1589.5" y="1225.1045">create</text><polygon fill="#A80036" points="866,1256.3125,856,1260.3125,866,1264.3125,862,1260.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="860" x2="1558.5" y1="1260.3125" y2="1260.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="872" y="1255.4561">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="890" y="1255.4561">factory</text><polygon fill="#A80036" points="1689.5,1286.6641,1699.5,1290.6641,1689.5,1294.6641,1693.5,1290.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1695.5" y1="1290.6641" y2="1290.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="1285.8076">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="46" x="880" y="1285.8076">clients()</text><polygon fill="#A80036" points="1826.5,1317.0156,1836.5,1321.0156,1826.5,1325.0156,1830.5,1321.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1711.5" x2="1832.5" y1="1321.0156" y2="1321.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1718.5" y="1316.1592">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1736.5" y="1316.1592">create</text><polygon fill="#A80036" points="866,1347.3672,856,1351.3672,866,1355.3672,862,1351.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="860" x2="1705.5" y1="1351.3672" y2="1351.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="872" y="1346.5107">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="93" x="890" y="1346.5107">clientRepository</text><polygon fill="#A80036" points="1826.5,1377.7188,1836.5,1381.7188,1826.5,1385.7188,1830.5,1381.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="855" x2="1832.5" y1="1381.7188" y2="1381.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="862" y="1376.8623">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="880" y="1376.8623">save(client)</text><polygon fill="#A80036" points="483,1408.0703,473,1412.0703,483,1416.0703,479,1412.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="477" x2="849" y1="1412.0703" y2="1412.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="489" y="1407.2139">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="25" x="507" y="1407.2139">user</text><polygon fill="#A80036" points="80,1454.7734,70,1458.7734,80,1462.7734,76,1458.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="74" x2="466" y1="1458.7734" y2="1458.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="86" y="1445.7412">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="192" x="104" y="1437.5654">informa o sucesso da operação e</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="178" x="104" y="1453.917">mostra a informação do cliente</text><!--MD5=[7c048f2fd8140c1d1ad5272204b57eef]
@startuml

autonumber
actor "Sales Clerk" as SC
participant RegisterClientUI as UI <<presentation>>
participant RegisterClientController as Controller <<application>>
participant ClientBuilder as Builder <<builder>>
participant "client:Client" as Domain <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ClientRepository as Repository <<repository>>

activate SC
SC -> UI : inicia o registo do cliente
activate UI
UI -> Controller: create
UI - -> SC : solicita os dados obrigatórios (firstNames, surnames, Email, \nPhoneNumber, VAT, Postal Address)
deactivate UI
SC -> UI : introduz os dados solicitados
activate UI



alt sales Clerk quer introduzir mais endereços
loop o Sales Clerk quer introduzir \nmais endereços
UI - -> SC : Solicita o endereço
deactivate UI


SC -> UI : Introduz o endereço
activate UI
end
end
alt sales Clerk insere a \ndata de nascimento do cliente
activate UI
UI - -> SC : solicita a data de nascimento
deactivate UI
SC -> UI : introduz data de nascimento
activate UI
end
alt sales Clerk insere o género do cliente
UI - -> SC : solicita o género
deactivate UI
SC -> UI : introduz o género
activate UI
end
UI -> Controller: registerClient(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
activate Controller
note right of Builder:ClientBuilder é usado para criar uma entidade do tipo Client num estado válido
Controller -> Builder: create
Controller -> Builder:setFirstName(firstnames)
Controller -> Builder:setSurnames(surnames)
Controller -> Builder:setEmail(email)
Controller -> Builder:setPhoneNumber(phoneNumber)
Controller -> Builder:setVAT(vat)
Controller -> Builder:setPostalAddress(postalAddress)
alt
    Controller -> Builder:setBirthDate(birthDate)
end
alt
    Controller -> Builder:setGender(gender)
end
Controller -> Builder:createClient()
activate Builder
Builder -> Domain: create(firstnames, surnames, email, phoneNumber,\nvat, postalAddress, birthDate, gender)
Domain->Builder: client
Builder -> Controller:client
deactivate Builder
Controller -> Persistence: repositories()
activate Persistence
note right of Persistence: pode criar repositório em memória ou JPA
Persistence -> Factory: create
Persistence -> Controller: factory
deactivate Persistence
Controller -> Factory: clients()
activate Factory
Factory -> Repository: create
Factory -> Controller: clientRepository
deactivate Factory
Controller->Repository:save(client)
Controller->UI: user
deactivate Controller
UI - -> SC : informa o sucesso da operação e \nmostra a informação do cliente
deactivate UI
deactivate SC



@enduml

PlantUML version 1.2021.4(Sun Apr 04 09:49:39 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>