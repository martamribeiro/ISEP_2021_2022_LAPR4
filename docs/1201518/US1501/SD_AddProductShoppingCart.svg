<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1448px" preserveAspectRatio="none" style="width:3346px;height:1448px;" version="1.1" viewBox="0 0 3346 1448" width="3346px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ryxhkfbn9v3r" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="1243.7109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="335.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="280.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="513.5313"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="519.2734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="824.0469"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="275.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="861" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="212.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="861" y="543.8828"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="466.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="861" y="854.3984"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="244.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1410" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1410" y="574.2344"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="436.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1410" y="884.75"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="214.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1959" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1959" y="604.5859"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="405.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1959" y="915.1016"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="153.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2102" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="15" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="359.7734"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2442.5" y="1215.6172"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2968.5" y="273.7188"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2968.5" y="634.9375"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2968.5" y="945.4531"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3095" y="1006.1563"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3238.5" y="1097.2109"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3238.5" y="1275.9688"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="276" x="2014" y="319.0703"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="291.5156" style="stroke:#000000;stroke-width:2.0;" width="3035" x="10" y="472.8281"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="171.4063" style="stroke:#000000;stroke-width:2.0;" width="1428" x="1904" y="1142.5625"/><rect fill="#FFFFFF" height="122.7031" style="stroke:none;stroke-width:1.0;" width="1428" x="1904" y="1191.2656"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="462" x2="462" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="866" x2="866" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1414.5" x2="1414.5" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1964" x2="1964" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2107" x2="2107" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2240" x2="2240" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2338" x2="2338" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2447" x2="2447" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2558" x2="2558" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2688" x2="2688" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2835" x2="2835" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2973" x2="2973" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3100" x2="3100" y1="89.6094" y2="1361.3203"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="3243" x2="3243" y1="89.6094" y2="1361.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="86.5332">Client</text><ellipse cx="41" cy="15" fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,23 L41,50 M28,31 L54,31 M41,50 L28,65 M41,50 L54,65 " fill="none" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="1374.8535">Client</text><ellipse cx="41" cy="1387.9297" fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M41,1395.9297 L41,1422.9297 M28,1403.9297 L54,1403.9297 M41,1422.9297 L28,1437.9297 M41,1422.9297 L54,1437.9297 " fill="none" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="200" x="360" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="412.5" y="56.9238">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="367" y="74.5332">AddProductToShoppingCarUI</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="200" x="360" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="412.5" y="1381.8535">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="186" x="367" y="1399.4629">AddProductToShoppingCarUI</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="250" x="739" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="822" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="746" y="74.5332">AddProductToShoppingCarController</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="250" x="739" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="822" y="1381.8535">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="236" x="746" y="1399.4629">AddProductToShoppingCarController</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="235" x="1295.5" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1371" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1302.5" y="74.5332">AddProductToShoppingCarService</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="235" x="1295.5" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="1371" y="1381.8535">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="221" x="1302.5" y="1399.4629">AddProductToShoppingCarService</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1914" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1921" y="74.5332">TcpOrderSrv</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="31.6094" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1914" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="1921" y="1381.8535">TcpOrderSrv</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="162" x="2024" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="2063" y="56.9238">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="2031" y="74.5332">ListProductDTOService</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="162" x="2024" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="2063" y="1381.8535">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="2031" y="1399.4629">ListProductDTOService</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="76" x="2200" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2207" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="2213.5" y="74.5332">Product</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="76" x="2200" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2207" y="1381.8535">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="49" x="2213.5" y="1399.4629">Product</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2290" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="2318.5" y="56.9238">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2297" y="74.5332">ProductDTO</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="93" x="2290" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="2318.5" y="1381.8535">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="79" x="2297" y="1399.4629">ProductDTO</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="97" x="2397" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2414.5" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="2404" y="74.5332">ShoppingCar</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="97" x="2397" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2414.5" y="1381.8535">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="83" x="2404" y="1399.4629">ShoppingCar</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="96" x="2508" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2525" y="56.9238">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="2515" y="74.5332">ShopCarItem</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="96" x="2508" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="2525" y="1381.8535">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="82" x="2515" y="1399.4629">ShopCarItem</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2618" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="2641.5" y="56.9238">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2625" y="74.5332">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="136" x="2618" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="2641.5" y="1381.8535">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="2625" y="1399.4629">PersistenceContext</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="2768" y="35.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="2803.5" y="56.9238">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2775" y="74.5332">RepositoryFactory</text><rect fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" height="49.2188" style="stroke:#A80036;stroke-width:1.5;" width="130" x="2768" y="1360.3203"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="2803.5" y="1381.8535">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="2775" y="1399.4629">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2931" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2912" y="86.5332">ProductRepository</text><path d="M2955.5,18.3906 C2955.5,8.3906 2973.5,8.3906 2973.5,8.3906 C2973.5,8.3906 2991.5,8.3906 2991.5,18.3906 L2991.5,44.3906 C2991.5,54.3906 2973.5,54.3906 2973.5,54.3906 C2973.5,54.3906 2955.5,54.3906 2955.5,44.3906 L2955.5,18.3906 " fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#000000;stroke-width:1.5;"/><path d="M2955.5,18.3906 C2955.5,28.3906 2973.5,28.3906 2973.5,28.3906 C2973.5,28.3906 2991.5,28.3906 2991.5,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="2931" y="1374.8535">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="117" x="2912" y="1392.4629">ProductRepository</text><path d="M2955.5,1405.5391 C2955.5,1395.5391 2973.5,1395.5391 2973.5,1395.5391 C2973.5,1395.5391 2991.5,1395.5391 2991.5,1405.5391 L2991.5,1431.5391 C2991.5,1441.5391 2973.5,1441.5391 2973.5,1441.5391 C2973.5,1441.5391 2955.5,1441.5391 2955.5,1431.5391 L2955.5,1405.5391 " fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#000000;stroke-width:1.5;"/><path d="M2955.5,1405.5391 C2955.5,1415.5391 2973.5,1415.5391 2973.5,1415.5391 C2973.5,1415.5391 2991.5,1415.5391 2991.5,1405.5391 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="3057.5" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="3045" y="86.5332">ClientRepository</text><path d="M3082,18.3906 C3082,8.3906 3100,8.3906 3100,8.3906 C3100,8.3906 3118,8.3906 3118,18.3906 L3118,44.3906 C3118,54.3906 3100,54.3906 3100,54.3906 C3100,54.3906 3082,54.3906 3082,44.3906 L3082,18.3906 " fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#000000;stroke-width:1.5;"/><path d="M3082,18.3906 C3082,28.3906 3100,28.3906 3100,28.3906 C3100,28.3906 3118,28.3906 3118,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="3057.5" y="1374.8535">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="104" x="3045" y="1392.4629">ClientRepository</text><path d="M3082,1405.5391 C3082,1395.5391 3100,1395.5391 3100,1395.5391 C3100,1395.5391 3118,1395.5391 3118,1405.5391 L3118,1431.5391 C3118,1441.5391 3100,1441.5391 3100,1441.5391 C3100,1441.5391 3082,1441.5391 3082,1431.5391 L3082,1405.5391 " fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#000000;stroke-width:1.5;"/><path d="M3082,1405.5391 C3082,1415.5391 3100,1415.5391 3100,1415.5391 C3100,1415.5391 3118,1415.5391 3118,1405.5391 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="3201" y="68.9238">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="3165" y="86.5332">ShoppingCarRepository</text><path d="M3225.5,18.3906 C3225.5,8.3906 3243.5,8.3906 3243.5,8.3906 C3243.5,8.3906 3261.5,8.3906 3261.5,18.3906 L3261.5,44.3906 C3261.5,54.3906 3243.5,54.3906 3243.5,54.3906 C3243.5,54.3906 3225.5,54.3906 3225.5,44.3906 L3225.5,18.3906 " fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#000000;stroke-width:1.5;"/><path d="M3225.5,18.3906 C3225.5,28.3906 3243.5,28.3906 3243.5,28.3906 C3243.5,28.3906 3261.5,28.3906 3261.5,18.3906 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="3201" y="1374.8535">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="151" x="3165" y="1392.4629">ShoppingCarRepository</text><path d="M3225.5,1405.5391 C3225.5,1395.5391 3243.5,1395.5391 3243.5,1395.5391 C3243.5,1395.5391 3261.5,1395.5391 3261.5,1405.5391 L3261.5,1431.5391 C3261.5,1441.5391 3243.5,1441.5391 3243.5,1441.5391 C3243.5,1441.5391 3225.5,1441.5391 3225.5,1431.5391 L3225.5,1405.5391 " fill="#FEFECE" filter="url(#f1ryxhkfbn9v3r)" style="stroke:#000000;stroke-width:1.5;"/><path d="M3225.5,1405.5391 C3225.5,1415.5391 3243.5,1415.5391 3243.5,1415.5391 C3243.5,1415.5391 3261.5,1415.5391 3261.5,1405.5391 " fill="none" style="stroke:#000000;stroke-width:1.5;"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="1243.7109" style="stroke:#A80036;stroke-width:1.0;" width="10" x="36" y="99.6094"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="335.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="121.9609"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="280.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="513.5313"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="519.2734" style="stroke:#A80036;stroke-width:1.0;" width="10" x="457" y="824.0469"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="275.1641" style="stroke:#A80036;stroke-width:1.0;" width="10" x="861" y="152.3125"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="212.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="861" y="543.8828"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="466.5703" style="stroke:#A80036;stroke-width:1.0;" width="10" x="861" y="854.3984"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="244.8125" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1410" y="182.6641"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="151.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1410" y="574.2344"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="436.2188" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1410" y="884.75"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="214.4609" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1959" y="213.0156"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="91.0547" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1959" y="604.5859"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="405.8672" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1959" y="915.1016"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="153.7578" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2102" y="243.3672"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="15" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2235" y="359.7734"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2442.5" y="1215.6172"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2968.5" y="273.7188"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2968.5" y="634.9375"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2968.5" y="945.4531"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3095" y="1006.1563"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30.3516" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3238.5" y="1097.2109"/><rect fill="#FFFFFF" filter="url(#f1ryxhkfbn9v3r)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="3238.5" y="1275.9688"/><polygon fill="#A80036" points="445,117.9609,455,121.9609,445,125.9609,449,121.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="451" y1="121.9609" y2="121.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="117.1045">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="381" x="64" y="117.1045">inicia o processo de adicionar um produto ao carrinho de compras</text><polygon fill="#A80036" points="849,148.3125,859,152.3125,849,156.3125,853,152.3125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="467" x2="855" y1="152.3125" y2="152.3125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="474" y="147.4561">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="485" y="147.4561">allProducts()</text><polygon fill="#A80036" points="1398,178.6641,1408,182.6641,1398,186.6641,1402,182.6641" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="871" x2="1404" y1="182.6641" y2="182.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="878" y="177.8076">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="889" y="177.8076">allProducts()</text><polygon fill="#A80036" points="1947,209.0156,1957,213.0156,1947,217.0156,1951,213.0156" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1420" x2="1953" y1="213.0156" y2="213.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1427" y="208.1592">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="1438" y="208.1592">allProducts()</text><polygon fill="#A80036" points="2090,239.3672,2100,243.3672,2090,247.3672,2094,243.3672" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="2096" y1="243.3672" y2="243.3672"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1976" y="238.5107">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="1987" y="238.5107">allProducts()</text><polygon fill="#A80036" points="2956.5,269.7188,2966.5,273.7188,2956.5,277.7188,2960.5,273.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2112" x2="2962.5" y1="273.7188" y2="273.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2119" y="268.8623">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="2130" y="268.8623">findAll()</text><polygon fill="#A80036" points="2123,300.0703,2113,304.0703,2123,308.0703,2119,304.0703" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="2117" x2="2972.5" y1="304.0703" y2="304.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2129" y="299.2139">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="71" x="2140" y="299.2139">productsList</text><path d="M2014,319.0703 L2087,319.0703 L2087,327.0703 L2077,337.0703 L2014,337.0703 L2014,319.0703 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:2.0;" width="276" x="2014" y="319.0703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="2029" y="333.5654">loop</text><polygon fill="#A80036" points="2223,355.7734,2233,359.7734,2223,363.7734,2227,359.7734" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="2112" x2="2229" y1="359.7734" y2="359.7734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="2119" y="354.917">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="2130" y="354.917">toDTO()</text><polygon fill="#A80036" points="1980,393.125,1970,397.125,1980,401.125,1976,397.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1974" x2="2106" y1="397.125" y2="397.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1986" y="392.2686">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1997" y="392.2686">productsListDTO</text><polygon fill="#A80036" points="1426,423.4766,1416,427.4766,1426,431.4766,1422,427.4766" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1420" x2="1963" y1="427.4766" y2="427.4766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1432" y="422.6201">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="97" x="1450" y="422.6201">productsListDTO</text><polygon fill="#A80036" points="57,453.8281,47,457.8281,57,461.8281,53,457.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="461" y1="457.8281" y2="457.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="452.9717">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="81" y="452.9717">mostra o catálogo de produtos</text><path d="M10,472.8281 L83,472.8281 L83,480.8281 L73,490.8281 L10,490.8281 L10,472.8281 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="291.5156" style="stroke:#000000;stroke-width:2.0;" width="3035" x="10" y="472.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="25" y="487.3232">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="205" x="98" y="486.2471">[enquanto nao inserir produto valido]</text><polygon fill="#A80036" points="445,509.5313,455,513.5313,445,517.5313,449,513.5313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="451" y1="513.5313" y2="513.5313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="508.6748">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="136" x="71" y="508.6748">introduz o id do produto</text><polygon fill="#A80036" points="849,539.8828,859,543.8828,849,547.8828,853,543.8828" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="467" x2="855" y1="543.8828" y2="543.8828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="474" y="539.0264">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="492" y="539.0264">findByUniqueInternalCode(productUniqueInternalCode)</text><polygon fill="#A80036" points="1398,570.2344,1408,574.2344,1398,578.2344,1402,574.2344" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="871" x2="1404" y1="574.2344" y2="574.2344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="878" y="569.3779">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="896" y="569.3779">findByUniqueInternalCode(productUniqueInternalCode)</text><polygon fill="#A80036" points="1947,600.5859,1957,604.5859,1947,608.5859,1951,604.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1420" x2="1953" y1="604.5859" y2="604.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1427" y="599.7295">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1445" y="599.7295">findByUniqueInternalCode(productUniqueInternalCode)</text><polygon fill="#A80036" points="2956.5,630.9375,2966.5,634.9375,2956.5,638.9375,2960.5,634.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="2962.5" y1="634.9375" y2="634.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="630.0811">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1994" y="630.0811">findByUniqueInternalCode(productUniqueInternalCode)</text><polygon fill="#A80036" points="1980,661.2891,1970,665.2891,1980,669.2891,1976,665.2891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1974" x2="2972.5" y1="665.2891" y2="665.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1986" y="660.4326">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="2004" y="660.4326">product</text><polygon fill="#A80036" points="1431,691.6406,1421,695.6406,1431,699.6406,1427,695.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1425" x2="1963" y1="695.6406" y2="695.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1437" y="690.7842">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1455" y="690.7842">product</text><polygon fill="#A80036" points="882,721.9922,872,725.9922,882,729.9922,878,725.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="876" x2="1414" y1="725.9922" y2="725.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="888" y="721.1357">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="906" y="721.1357">productExist</text><polygon fill="#A80036" points="478,752.3438,468,756.3438,478,760.3438,474,756.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="472" x2="865" y1="756.3438" y2="756.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="484" y="751.4873">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="73" x="502" y="751.4873">productExist</text><polygon fill="#A80036" points="57,789.6953,47,793.6953,57,797.6953,53,793.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="461" y1="793.6953" y2="793.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="788.8389">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="81" y="788.8389">solicita a quantidade</text><polygon fill="#A80036" points="445,820.0469,455,824.0469,445,828.0469,449,824.0469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="46" x2="451" y1="824.0469" y2="824.0469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="53" y="819.1904">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="71" y="819.1904">introduz a quantidade</text><polygon fill="#A80036" points="849,850.3984,859,854.3984,849,858.3984,853,854.3984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="467" x2="855" y1="854.3984" y2="854.3984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="474" y="849.542">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="357" x="492" y="849.542">addProductShoppingCart(quantity,productUniqueInternalCode)</text><polygon fill="#A80036" points="1398,880.75,1408,884.75,1398,888.75,1402,884.75" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="871" x2="1404" y1="884.75" y2="884.75"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="878" y="879.8936">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502" x="896" y="879.8936">addProductToShoppingCarService(productUniqueInternalCode, quantidade, clientEmail)</text><polygon fill="#A80036" points="1947,911.1016,1957,915.1016,1947,919.1016,1951,915.1016" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1420" x2="1953" y1="915.1016" y2="915.1016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1427" y="910.2451">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502" x="1445" y="910.2451">addProductToShoppingCarService(productUniqueInternalCode, quantidade, clientEmail)</text><polygon fill="#A80036" points="2956.5,941.4531,2966.5,945.4531,2956.5,949.4531,2960.5,945.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="2962.5" y1="945.4531" y2="945.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="940.5967">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="311" x="1994" y="940.5967">findByUniqueInternalCode(productUniqueInternalCode)</text><polygon fill="#A80036" points="1980,971.8047,1970,975.8047,1980,979.8047,1976,975.8047" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1974" x2="2972.5" y1="975.8047" y2="975.8047"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1986" y="970.9482">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="2004" y="970.9482">product</text><polygon fill="#A80036" points="3083,1002.1563,3093,1006.1563,3083,1010.1563,3087,1006.1563" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="3089" y1="1006.1563" y2="1006.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="1001.2998">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="108" x="1994" y="1001.2998">findByEmail(email)</text><polygon fill="#A80036" points="1980,1032.5078,1970,1036.5078,1980,1040.5078,1976,1036.5078" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1974" x2="3099" y1="1036.5078" y2="1036.5078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1986" y="1031.6514">29</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="2004" y="1031.6514">client</text><polygon fill="#A80036" points="2546,1062.8594,2556,1066.8594,2546,1070.8594,2550,1066.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="2552" y1="1066.8594" y2="1066.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="1062.0029">30</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="154" x="1994" y="1062.0029">create(quantidade,produto)</text><polygon fill="#A80036" points="3226.5,1093.2109,3236.5,1097.2109,3226.5,1101.2109,3230.5,1097.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="3232.5" y1="1097.2109" y2="1097.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="1092.3545">31</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="186" x="1994" y="1092.3545">findShoppingCartByClient(client)</text><polygon fill="#A80036" points="1980,1123.5625,1970,1127.5625,1980,1131.5625,1976,1127.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1974" x2="3242.5" y1="1127.5625" y2="1127.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1986" y="1122.7061">32</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72" x="2004" y="1122.7061">shoppingCar</text><path d="M1904,1142.5625 L1965,1142.5625 L1965,1150.5625 L1955,1160.5625 L1904,1160.5625 L1904,1142.5625 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.0;"/><rect fill="none" height="171.4063" style="stroke:#000000;stroke-width:2.0;" width="1428" x="1904" y="1142.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="1919" y="1157.0576">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="211" x="1980" y="1155.9814">[cliente não tem carrinho de compras]</text><polygon fill="#A80036" points="2435.5,1179.2656,2445.5,1183.2656,2435.5,1187.2656,2439.5,1183.2656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="2441.5" y1="1183.2656" y2="1183.2656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="1178.4092">33</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="1994" y="1178.4092">create(client)</text><line style="stroke:#000000;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1904" x2="3332" y1="1192.2656" y2="1192.2656"/><polygon fill="#A80036" points="2430.5,1211.6172,2440.5,1215.6172,2430.5,1219.6172,2434.5,1215.6172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="2436.5" y1="1215.6172" y2="1215.6172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="1210.7607">34</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="187" x="1994" y="1210.7607">addProductToShoppingCar(item)</text><polygon fill="#A80036" points="3226.5,1271.9688,3236.5,1275.9688,3226.5,1279.9688,3230.5,1275.9688" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1969" x2="3232.5" y1="1275.9688" y2="1275.9688"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1976" y="1271.1123">35</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="106" x="1994" y="1271.1123">save(shoppingCar)</text><polygon fill="#A80036" points="52,1339.3203,42,1343.3203,52,1347.3203,48,1343.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="46" x2="461" y1="1343.3203" y2="1343.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="58" y="1338.4639">36</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="76" y="1338.4639">Informa o sucesso da operação</text><!--MD5=[a7d4ec7d2fae3737ed7dbeec625efb31]
@startuml

autonumber
actor "Client" as C
participant AddProductToShoppingCarUI as UI <<presentation>>
participant AddProductToShoppingCarController as Controller <<application>>
participant AddProductToShoppingCarService as Service <<application>>
participant TcpOrderSrv as OrderServer
participant ListProductDTOService as serv <<application>>
participant "Product" as Domain <<domain>>
participant "ProductDTO" as DTO <<dto>>
participant "ShoppingCar" as domain <<domain>>
participant "ShopCarItem" as d <<domain>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database ProductRepository as repository <<repository>>
database ClientRepository as rep <<repository>>
database ShoppingCarRepository as r <<repository>>

activate C
C -> UI : inicia o processo de adicionar um produto ao carrinho de compras
activate UI
UI -> Controller: allProducts()
activate Controller
Controller -> Service: allProducts()
activate Service
Service -> OrderServer: allProducts()
activate OrderServer
OrderServer -> serv: allProducts()
activate serv
serv->repository:findAll()
activate repository
repository - -> serv: productsList
deactivate repository
loop
serv -> Domain: toDTO()
activate Domain
end
deactivate Domain
serv - -> OrderServer: productsListDTO
deactivate serv
OrderServer - -> Service: productsListDTO
deactivate OrderServer
deactivate Service
deactivate Controller
UI - -> C : mostra o catálogo de produtos
deactivate UI
loop enquanto nao inserir produto valido
C -> UI : introduz o id do produto
activate UI
UI -> Controller: findByUniqueInternalCode(productUniqueInternalCode)
activate Controller
Controller -> Service: findByUniqueInternalCode(productUniqueInternalCode)
activate Service
Service -> OrderServer: findByUniqueInternalCode(productUniqueInternalCode)
activate OrderServer
OrderServer->repository:findByUniqueInternalCode(productUniqueInternalCode)
activate repository
repository- -> OrderServer: product
deactivate repository
OrderServer - -> Service: product
deactivate OrderServer
Service - -> Controller: productExist
deactivate Service
Controller - -> UI: productExist
deactivate Controller
end
UI - -> C : solicita a quantidade
deactivate UI
C -> UI : introduz a quantidade
activate UI
UI -> Controller: addProductShoppingCart(quantity,productUniqueInternalCode)
activate Controller
Controller -> Service:addProductToShoppingCarService(productUniqueInternalCode, quantidade, clientEmail)
activate Service
Service -> OrderServer: addProductToShoppingCarService(productUniqueInternalCode, quantidade, clientEmail)
activate OrderServer
OrderServer->repository:findByUniqueInternalCode(productUniqueInternalCode)
activate repository
repository- -> OrderServer: product
deactivate repository
OrderServer->rep:findByEmail(email)
activate rep
rep- -> OrderServer: client
deactivate rep
OrderServer -> d: create(quantidade,produto)
OrderServer->r:findShoppingCartByClient(client)
activate r
r- -> OrderServer: shoppingCar
deactivate r
alt cliente não tem carrinho de compras
OrderServer -> domain: create(client)

else
OrderServer -> domain:addProductToShoppingCar(item)
activate domain
deactivate domain
OrderServer -> r: save(shoppingCar)
activate r
deactivate r
end
deactivate OrderServer
deactivate Service
deactivate Controller


UI - -> C : Informa o sucesso da operação
deactivate UI
deactivate C



@enduml

PlantUML version 1.2021.4(Sun Apr 04 09:49:39 BST 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>