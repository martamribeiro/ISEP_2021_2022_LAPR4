<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="746px" preserveAspectRatio="none" style="width:1443px;height:746px;background:#FFFFFF;" version="1.1" viewBox="0 0 1443 746" width="1443px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="544.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="36" y="96.2188"/><rect fill="#FFFFFF" height="512.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="310" y="118.5703"/><rect fill="#FFFFFF" height="396.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="515" y="179.2734"/><rect fill="#FFFFFF" height="335.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="209.625"/><rect fill="#FFFFFF" height="15" style="stroke:#181818;stroke-width:1.0;" width="10" x="888" y="508.1406"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1095" y="239.9766"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1238" y="331.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1375" y="422.0859"/><rect height="48.7031" style="stroke:#000000;stroke-width:1.5;fill:none;" width="311" x="630" y="467.4375"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="41" x2="41" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="315" x2="315" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="520" x2="520" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="742" x2="742" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="893" x2="893" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="981" x2="981" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1100" x2="1100" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1243" x2="1243" y1="86.2188" y2="649.5469"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1380" x2="1380" y1="86.2188" y2="649.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="83.1426">Client</text><ellipse cx="41" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M41,25.1094 L41,52.1094 M28,33.1094 L54,33.1094 M41,52.1094 L28,67.1094 M41,52.1094 L54,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="20" y="663.0801">Client</text><ellipse cx="41" cy="674.6563" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M41,682.6563 L41,709.6563 M28,690.6563 L54,690.6563 M41,709.6563 L28,724.6563 M41,709.6563 L54,724.6563 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="230" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="267.5" y="57.5332">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="237" y="75.1426">ViewClientOpenOrdersUI</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="170" x="230" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="95" x="267.5" y="670.0801">«presentation»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="156" x="237" y="687.6895">ViewClientOpenOrdersUI</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="410" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="478" y="57.5332">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="417" y="75.1426">ViewClientOpenOrdersController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="220" x="410" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="478" y="670.0801">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="206" x="417" y="687.6895">ViewClientOpenOrdersController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="640" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="700.5" y="57.5332">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="647" y="75.1426">ViewClientOpenOrdersService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="205" x="640" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="84" x="700.5" y="670.0801">«application»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="647" y="687.6895">ViewClientOpenOrdersService</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="855" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="862" y="57.5332">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="862" y="75.1426">TheOrder</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="76" x="855" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="62" x="862" y="670.0801">«domain»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="62" x="862" y="687.6895">TheOrder</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="941" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="963.5" y="57.5332">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="948" y="75.1426">OrderDTO</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="81" x="941" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="36" x="963.5" y="670.0801">«dto»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="67" x="948" y="687.6895">OrderDTO</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1032" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1055.5" y="57.5332">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1039" y="75.1426">PersistenceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1032" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1055.5" y="670.0801">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1039" y="687.6895">PersistenceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1178" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1213.5" y="57.5332">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1185" y="75.1426">RepositoryFactory</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1178" y="648.5469"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1213.5" y="670.0801">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1185" y="687.6895">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="1318" y="65.5332">«orderRepository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1324.5" y="83.1426">OrderRepository</text><path d="M1362,15 C1362,5 1380,5 1380,5 C1380,5 1398,5 1398,15 L1398,41 C1398,51 1380,51 1380,51 C1380,51 1362,51 1362,41 L1362,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1362,15 C1362,25 1380,25 1380,25 C1380,25 1398,25 1398,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="118" x="1318" y="663.0801">«orderRepository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1324.5" y="680.6895">OrderRepository</text><path d="M1362,693.7656 C1362,683.7656 1380,683.7656 1380,683.7656 C1380,683.7656 1398,683.7656 1398,693.7656 L1398,719.7656 C1398,729.7656 1380,729.7656 1380,729.7656 C1380,729.7656 1362,729.7656 1362,719.7656 L1362,693.7656 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1362,693.7656 C1362,703.7656 1380,703.7656 1380,703.7656 C1380,703.7656 1398,703.7656 1398,693.7656 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="544.3281" style="stroke:#181818;stroke-width:1.0;" width="10" x="36" y="96.2188"/><rect fill="#FFFFFF" height="512.9766" style="stroke:#181818;stroke-width:1.0;" width="10" x="310" y="118.5703"/><rect fill="#FFFFFF" height="396.5703" style="stroke:#181818;stroke-width:1.0;" width="10" x="515" y="179.2734"/><rect fill="#FFFFFF" height="335.8672" style="stroke:#181818;stroke-width:1.0;" width="10" x="737.5" y="209.625"/><rect fill="#FFFFFF" height="15" style="stroke:#181818;stroke-width:1.0;" width="10" x="888" y="508.1406"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1095" y="239.9766"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1238" y="331.0313"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="1375" y="422.0859"/><polygon fill="#181818" points="298,114.5703,308,118.5703,298,122.5703,302,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="46" x2="304" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="53" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="225" x="64" y="113.7139">quer visualizar as encomendas abertas</text><polygon fill="#181818" points="508,144.9219,518,148.9219,508,152.9219,512,148.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="320" x2="514" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="327" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="338" y="144.0654">create</text><polygon fill="#181818" points="503,175.2734,513,179.2734,503,183.2734,507,179.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="320" x2="509" y1="179.2734" y2="179.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="327" y="174.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="338" y="174.417">allOpenOrders()</text><polygon fill="#181818" points="725.5,205.625,735.5,209.625,725.5,213.625,729.5,209.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="525" x2="731.5" y1="209.625" y2="209.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="532" y="204.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="543" y="204.7686">allOpenOrders(clientEmail)</text><polygon fill="#181818" points="1083,235.9766,1093,239.9766,1083,243.9766,1087,239.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="1089" y1="239.9766" y2="239.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="754.5" y="235.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="765.5" y="235.1201">repositories()</text><polygon fill="#181818" points="1231,266.3281,1241,270.3281,1231,274.3281,1235,270.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1105" x2="1237" y1="270.3281" y2="270.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1112" y="265.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1123" y="265.4717">create</text><polygon fill="#181818" points="758.5,296.6797,748.5,300.6797,758.5,304.6797,754.5,300.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="752.5" x2="1099" y1="300.6797" y2="300.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="764.5" y="295.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="775.5" y="295.8232">factory</text><polygon fill="#181818" points="1226,327.0313,1236,331.0313,1226,335.0313,1230,331.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="1232" y1="331.0313" y2="331.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="754.5" y="326.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="765.5" y="326.1748">orders()</text><polygon fill="#181818" points="1368,357.3828,1378,361.3828,1368,365.3828,1372,361.3828" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1248" x2="1374" y1="361.3828" y2="361.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1255" y="356.5264">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="36" x="1266" y="356.5264">create</text><polygon fill="#181818" points="758.5,387.7344,748.5,391.7344,758.5,395.7344,754.5,391.7344" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="752.5" x2="1242" y1="391.7344" y2="391.7344"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="764.5" y="386.8779">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="782.5" y="386.8779">orderRepository</text><polygon fill="#181818" points="1363,418.0859,1373,422.0859,1363,426.0859,1367,422.0859" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="1369" y1="422.0859" y2="422.0859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="754.5" y="417.2295">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="155" x="772.5" y="417.2295">allOpenOrders(clientEmail)</text><polygon fill="#181818" points="758.5,448.4375,748.5,452.4375,758.5,456.4375,754.5,452.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="752.5" x2="1379" y1="452.4375" y2="452.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="764.5" y="447.5811">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="782.5" y="447.5811">openOrders</text><path d="M630,467.4375 L703,467.4375 L703,475.7891 L693,485.7891 L630,485.7891 L630,467.4375 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="48.7031" style="stroke:#000000;stroke-width:1.5;" width="311" x="630" y="467.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="645" y="481.9326">loop</text><polygon fill="#181818" points="876,504.1406,886,508.1406,876,512.1406,880,508.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="747.5" x2="882" y1="508.1406" y2="508.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="754.5" y="503.2842">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="45" x="772.5" y="503.2842">toDTO()</text><polygon fill="#181818" points="536,541.4922,526,545.4922,536,549.4922,532,545.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="530" x2="741.5" y1="545.4922" y2="545.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="542" y="540.6357">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="560" y="540.6357">openOrders</text><polygon fill="#181818" points="331,571.8438,321,575.8438,331,579.8438,327,575.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="325" x2="519" y1="575.8438" y2="575.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="337" y="570.9873">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="67" x="355" y="570.9873">openOrders</text><polygon fill="#181818" points="57,627.5469,47,631.5469,57,635.5469,53,631.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="51" x2="314" y1="631.5469" y2="631.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="63" y="626.6904">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="222" x="81" y="626.6904">mostra a lista de encomendas abertas</text><!--MD5=[49412644cea58a660d3ef348fd9a64c0]
@startuml

autonumber
actor "Client" as Client
participant ViewClientOpenOrdersUI as UI <<presentation>>
participant ViewClientOpenOrdersController as Controller <<application>>
participant ViewClientOpenOrdersService as serv <<application>>
participant "TheOrder" as Domain <<domain>>
participant "OrderDTO" as DTO <<dto>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as orderRepository <<orderRepository>>

activate Client
Client -> UI : quer visualizar as encomendas abertas
activate UI
UI -> Controller: create
UI -> Controller: allOpenOrders()
activate Controller
Controller -> serv: allOpenOrders(clientEmail)
activate serv
serv -> Persistence: repositories()
activate Persistence
Persistence -> Factory: create
Persistence -> serv: factory
deactivate Persistence
serv -> Factory: orders()
activate Factory
Factory -> orderRepository: create
Factory -> serv: orderRepository
deactivate Factory

deactivate Factory
serv->orderRepository:allOpenOrders(clientEmail)
activate orderRepository
orderRepository - -> serv: openOrders
deactivate orderRepository
loop
serv -> Domain: toDTO()
activate Domain
end
deactivate Domain
serv - -> Controller: openOrders
deactivate serv
Controller - -> UI: openOrders
deactivate Controller
loop enquanto desejar alterar o status de encomendas
UI - -> Client : mostra a lista de encomendas abertas
deactivate UI
/'loop enquanto desejar alterar o status de encomendas'/
/'SC -> UI : Pergunta se pretende alterar o status de alguma\nencomenda para Being Delivered
activate UI'/
/'alt deseja alterar o status'/
/'UI - -> SC : solicita o id da encomenda
activate UI'/

@enduml

@startuml

autonumber
actor "Client" as Client
participant ViewClientOpenOrdersUI as UI <<presentation>>
participant ViewClientOpenOrdersController as Controller <<application>>
participant ViewClientOpenOrdersService as serv <<application>>
participant "TheOrder" as Domain <<domain>>
participant "OrderDTO" as DTO <<dto>>
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as orderRepository <<orderRepository>>

activate Client
Client -> UI : quer visualizar as encomendas abertas
activate UI
UI -> Controller: create
UI -> Controller: allOpenOrders()
activate Controller
Controller -> serv: allOpenOrders(clientEmail)
activate serv
serv -> Persistence: repositories()
activate Persistence
Persistence -> Factory: create
Persistence -> serv: factory
deactivate Persistence
serv -> Factory: orders()
activate Factory
Factory -> orderRepository: create
Factory -> serv: orderRepository
deactivate Factory

deactivate Factory
serv->orderRepository:allOpenOrders(clientEmail)
activate orderRepository
orderRepository - -> serv: openOrders
deactivate orderRepository
loop
serv -> Domain: toDTO()
activate Domain
end
deactivate Domain
serv - -> Controller: openOrders
deactivate serv
Controller - -> UI: openOrders
deactivate Controller
loop enquanto desejar alterar o status de encomendas
UI - -> Client : mostra a lista de encomendas abertas
deactivate UI

@enduml

PlantUML version 1.2022.5(Sat Apr 30 11:55:52 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>