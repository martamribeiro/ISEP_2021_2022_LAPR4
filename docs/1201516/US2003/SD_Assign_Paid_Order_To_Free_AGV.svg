<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1087px" preserveAspectRatio="none" style="width:1522px;height:1087px;background:#FFFFFF;" version="1.1" viewBox="0 0 1522 1087" width="1522px" zoomAndPan="magnify"><defs/><g><rect fill="#FFFFFF" height="875.8438" style="stroke:#181818;stroke-width:1.0;" width="10" x="70.5" y="96.2188"/><rect fill="#FFFFFF" height="381.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="622.5" y="118.5703"/><rect fill="#FFFFFF" height="381.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="622.5" y="530.1406"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="622.5" y="941.7109"/><rect fill="#FFFFFF" height="320.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="838.5" y="148.9219"/><rect fill="#FFFFFF" height="320.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="838.5" y="560.4922"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074.5" y="179.2734"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074.5" y="590.8438"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1217.5" y="270.3281"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1217.5" y="681.8984"/><rect height="94.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="463" x="708" y="346.0313"/><rect height="61.7031" style="stroke:#000000;stroke-width:1.5;fill:none;" width="443" x="718" y="371.3828"/><rect height="94.0547" style="stroke:#000000;stroke-width:1.5;fill:none;" width="374" x="708" y="757.6016"/><rect height="61.7031" style="stroke:#000000;stroke-width:1.5;fill:none;" width="354" x="718" y="782.9531"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="75" x2="75" y1="86.2188" y2="990.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="627" x2="627" y1="86.2188" y2="990.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="843" x2="843" y1="86.2188" y2="990.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1079.5" x2="1079.5" y1="86.2188" y2="990.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1222.5" x2="1222.5" y1="86.2188" y2="990.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1352.5" x2="1352.5" y1="86.2188" y2="990.0625"/><line style="stroke:#181818;stroke-width:0.5;fill:none;stroke-dasharray:5.0,5.0;" x1="1469.5" x2="1469.5" y1="86.2188" y2="990.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="5" y="83.1426">WarehouseEmployee</text><ellipse cx="75.5" cy="17.1094" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M75.5,25.1094 L75.5,52.1094 M62.5,33.1094 L88.5,33.1094 M75.5,52.1094 L62.5,67.1094 M75.5,52.1094 L88.5,67.1094 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="5" y="1003.5957">WarehouseEmployee</text><ellipse cx="75.5" cy="1015.1719" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M75.5,1023.1719 L75.5,1050.1719 M62.5,1031.1719 L88.5,1031.1719 M75.5,1050.1719 L62.5,1065.1719 M75.5,1050.1719 L88.5,1065.1719 " fill="none" style="stroke:#181818;stroke-width:0.5;"/><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="537" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="544" y="75.1426">AssignOrderToFreeAGVUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="181" x="537" y="989.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="167" x="544" y="1010.5957">AssignOrderToFreeAGVUI</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="728" y="53.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="735" y="75.1426">AssignOrderToFreeAGVController</text><rect fill="#E2E2F0" height="31.6094" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="231" x="728" y="989.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="217" x="735" y="1010.5957">AssignOrderToFreeAGVController</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1011.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1035" y="57.5332">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1018.5" y="75.1426">PersistenceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="136" x="1011.5" y="989.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="89" x="1035" y="1010.5957">«persistence»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="122" x="1018.5" y="1028.2051">PersistenceContext</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1157.5" y="36"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1193" y="57.5332">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1164.5" y="75.1426">RepositoryFactory</text><rect fill="#E2E2F0" height="49.2188" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="130" x="1157.5" y="989.0625"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="59" x="1193" y="1010.5957">«factory»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="1164.5" y="1028.2051">RepositoryFactory</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1310.5" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1297.5" y="83.1426">OrderRepository</text><path d="M1335,15 C1335,5 1353,5 1353,5 C1353,5 1371,5 1371,15 L1371,41 C1371,51 1353,51 1353,51 C1353,51 1335,51 1335,41 L1335,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1335,15 C1335,25 1353,25 1353,25 C1353,25 1371,25 1371,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1310.5" y="1003.5957">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="105" x="1297.5" y="1021.2051">OrderRepository</text><path d="M1335,1034.2813 C1335,1024.2813 1353,1024.2813 1353,1024.2813 C1353,1024.2813 1371,1024.2813 1371,1034.2813 L1371,1060.2813 C1371,1070.2813 1353,1070.2813 1353,1070.2813 C1353,1070.2813 1335,1070.2813 1335,1060.2813 L1335,1034.2813 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1335,1034.2813 C1335,1044.2813 1353,1044.2813 1353,1044.2813 C1353,1044.2813 1371,1044.2813 1371,1034.2813 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1427.5" y="65.5332">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1418.5" y="83.1426">AGVRepository</text><path d="M1452,15 C1452,5 1470,5 1470,5 C1470,5 1488,5 1488,15 L1488,41 C1488,51 1470,51 1470,51 C1470,51 1452,51 1452,41 L1452,15 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1452,15 C1452,25 1470,25 1470,25 C1470,25 1488,25 1488,15 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="79" x="1427.5" y="1003.5957">«repository»</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="97" x="1418.5" y="1021.2051">AGVRepository</text><path d="M1452,1034.2813 C1452,1024.2813 1470,1024.2813 1470,1024.2813 C1470,1024.2813 1488,1024.2813 1488,1034.2813 L1488,1060.2813 C1488,1070.2813 1470,1070.2813 1470,1070.2813 C1470,1070.2813 1452,1070.2813 1452,1060.2813 L1452,1034.2813 " fill="#E2E2F0" style="stroke:#181818;stroke-width:1.5;"/><path d="M1452,1034.2813 C1452,1044.2813 1470,1044.2813 1470,1044.2813 C1470,1044.2813 1488,1044.2813 1488,1034.2813 " fill="none" style="stroke:#181818;stroke-width:1.5;"/><rect fill="#FFFFFF" height="875.8438" style="stroke:#181818;stroke-width:1.0;" width="10" x="70.5" y="96.2188"/><rect fill="#FFFFFF" height="381.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="622.5" y="118.5703"/><rect fill="#FFFFFF" height="381.2188" style="stroke:#181818;stroke-width:1.0;" width="10" x="622.5" y="530.1406"/><rect fill="#FFFFFF" height="30.3516" style="stroke:#181818;stroke-width:1.0;" width="10" x="622.5" y="941.7109"/><rect fill="#FFFFFF" height="320.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="838.5" y="148.9219"/><rect fill="#FFFFFF" height="320.5156" style="stroke:#181818;stroke-width:1.0;" width="10" x="838.5" y="560.4922"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074.5" y="179.2734"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1074.5" y="590.8438"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1217.5" y="270.3281"/><rect fill="#FFFFFF" height="60.7031" style="stroke:#181818;stroke-width:1.0;" width="10" x="1217.5" y="681.8984"/><polygon fill="#181818" points="610.5,114.5703,620.5,118.5703,610.5,122.5703,614.5,118.5703" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80.5" x2="616.5" y1="118.5703" y2="118.5703"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="87.5" y="113.7139">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="400" x="98.5" y="113.7139">wants to assign an order in to be prepared phase to an available AGV</text><polygon fill="#181818" points="826.5,144.9219,836.5,148.9219,826.5,152.9219,830.5,148.9219" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="632.5" x2="832.5" y1="148.9219" y2="148.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="639.5" y="144.0654">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="124" x="650.5" y="144.0654">showPaidOrdersList()</text><polygon fill="#181818" points="1062.5,175.2734,1072.5,179.2734,1062.5,183.2734,1066.5,179.2734" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="848.5" x2="1068.5" y1="179.2734" y2="179.2734"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="855.5" y="174.417">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="866.5" y="174.417">repositories()</text><polygon fill="#181818" points="1210.5,205.625,1220.5,209.625,1210.5,213.625,1214.5,209.625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1084.5" x2="1216.5" y1="209.625" y2="209.625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1091.5" y="204.7686">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1102.5" y="204.7686">create()</text><polygon fill="#181818" points="859.5,235.9766,849.5,239.9766,859.5,243.9766,855.5,239.9766" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="853.5" x2="1078.5" y1="239.9766" y2="239.9766"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="865.5" y="235.1201">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="876.5" y="235.1201">factory</text><polygon fill="#181818" points="1205.5,266.3281,1215.5,270.3281,1205.5,274.3281,1209.5,270.3281" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="848.5" x2="1211.5" y1="270.3281" y2="270.3281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="855.5" y="265.4717">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="866.5" y="265.4717">orders()</text><polygon fill="#181818" points="1341,296.6797,1351,300.6797,1341,304.6797,1345,300.6797" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1227.5" x2="1347" y1="300.6797" y2="300.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="1234.5" y="295.8232">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1245.5" y="295.8232">findAll()</text><polygon fill="#181818" points="859.5,327.0313,849.5,331.0313,859.5,335.0313,855.5,331.0313" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="853.5" x2="1221.5" y1="331.0313" y2="331.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="865.5" y="326.1748">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91" x="876.5" y="326.1748">orderRepository</text><path d="M708,346.0313 L781,346.0313 L781,354.3828 L771,364.3828 L708,364.3828 L708,346.0313 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.0547" style="stroke:#000000;stroke-width:1.5;" width="463" x="708" y="346.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="723" y="360.5264">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="239" x="796" y="359.4502">[for Order order : orderRepository.findAll()]</text><path d="M718,371.3828 L779,371.3828 L779,379.7344 L769,389.7344 L718,389.7344 L718,371.3828 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="443" x="718" y="371.3828"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="733" y="385.8779">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="362" x="794" y="384.8018">[if order.getOrderStatus().equalsIgnoreCase("TO_BE_PREPARED")]</text><line style="stroke:#181818;stroke-width:1.0;" x1="848.5" x2="890.5" y1="412.0859" y2="412.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="890.5" x2="890.5" y1="412.0859" y2="425.0859"/><line style="stroke:#181818;stroke-width:1.0;" x1="849.5" x2="890.5" y1="425.0859" y2="425.0859"/><polygon fill="#181818" points="859.5,421.0859,849.5,425.0859,859.5,429.0859,855.5,425.0859" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="7" x="855.5" y="407.2295">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="201" x="866.5" y="407.2295">ordersToBePreparedList.add(order)</text><polygon fill="#181818" points="643.5,465.4375,633.5,469.4375,643.5,473.4375,639.5,469.4375" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637.5" x2="842.5" y1="469.4375" y2="469.4375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="649.5" y="464.5811">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="667.5" y="464.5811">ordersToBePreparedList</text><polygon fill="#181818" points="91.5,495.7891,81.5,499.7891,91.5,503.7891,87.5,499.7891" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85.5" x2="626.5" y1="499.7891" y2="499.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="97.5" y="494.9326">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="447" x="115.5" y="494.9326">shows ordersToBePreparedList and requests to select one order from the list.</text><polygon fill="#181818" points="610.5,526.1406,620.5,530.1406,610.5,534.1406,614.5,530.1406" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80.5" x2="616.5" y1="530.1406" y2="530.1406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="87.5" y="525.2842">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="176" x="105.5" y="525.2842">selects one order from the list.</text><polygon fill="#181818" points="826.5,556.4922,836.5,560.4922,826.5,564.4922,830.5,560.4922" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="632.5" x2="832.5" y1="560.4922" y2="560.4922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="639.5" y="555.6357">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="120" x="657.5" y="555.6357">showFreeAGVsList()</text><polygon fill="#181818" points="1062.5,586.8438,1072.5,590.8438,1062.5,594.8438,1066.5,590.8438" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="848.5" x2="1068.5" y1="590.8438" y2="590.8438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="855.5" y="585.9873">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="75" x="873.5" y="585.9873">repositories()</text><polygon fill="#181818" points="1210.5,617.1953,1220.5,621.1953,1210.5,625.1953,1214.5,621.1953" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1084.5" x2="1216.5" y1="621.1953" y2="621.1953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1091.5" y="616.3389">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="44" x="1109.5" y="616.3389">create()</text><polygon fill="#181818" points="859.5,647.5469,849.5,651.5469,859.5,655.5469,855.5,651.5469" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="853.5" x2="1078.5" y1="651.5469" y2="651.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="865.5" y="646.6904">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="39" x="883.5" y="646.6904">factory</text><polygon fill="#181818" points="1205.5,677.8984,1215.5,681.8984,1205.5,685.8984,1209.5,681.8984" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="848.5" x2="1211.5" y1="681.8984" y2="681.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="855.5" y="677.042">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="34" x="873.5" y="677.042">agvs()</text><polygon fill="#181818" points="1458,708.25,1468,712.25,1458,716.25,1462,712.25" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="1227.5" x2="1464" y1="712.25" y2="712.25"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="1234.5" y="707.3936">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="43" x="1252.5" y="707.3936">findAll()</text><polygon fill="#181818" points="859.5,738.6016,849.5,742.6016,859.5,746.6016,855.5,742.6016" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="853.5" x2="1221.5" y1="742.6016" y2="742.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="865.5" y="737.7451">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="81" x="883.5" y="737.7451">agvRepository</text><path d="M708,757.6016 L781,757.6016 L781,765.9531 L771,775.9531 L708,775.9531 L708,757.6016 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="94.0547" style="stroke:#000000;stroke-width:1.5;" width="374" x="708" y="757.6016"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="28" x="723" y="772.0967">loop</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="207" x="796" y="771.0205">[for AGV agv : agvRepository.findAll()]</text><path d="M718,782.9531 L779,782.9531 L779,791.3047 L769,801.3047 L718,801.3047 L718,782.9531 " fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="61.7031" style="stroke:#000000;stroke-width:1.5;" width="354" x="718" y="782.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="16" x="733" y="797.4482">alt</text><text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacing" textLength="273" x="794" y="796.3721">[if agv.getTaskStatus().equalsIgnoreCase("free")]</text><line style="stroke:#181818;stroke-width:1.0;" x1="848.5" x2="890.5" y1="823.6563" y2="823.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="890.5" x2="890.5" y1="823.6563" y2="836.6563"/><line style="stroke:#181818;stroke-width:1.0;" x1="849.5" x2="890.5" y1="836.6563" y2="836.6563"/><polygon fill="#181818" points="859.5,832.6563,849.5,836.6563,859.5,840.6563,855.5,836.6563" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="855.5" y="818.7998">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="139" x="873.5" y="818.7998">freeAGVsList.add(order)</text><polygon fill="#181818" points="643.5,877.0078,633.5,881.0078,643.5,885.0078,639.5,881.0078" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="637.5" x2="842.5" y1="881.0078" y2="881.0078"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="649.5" y="876.1514">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="77" x="667.5" y="876.1514">freeAGVsList</text><polygon fill="#181818" points="91.5,907.3594,81.5,911.3594,91.5,915.3594,87.5,911.3594" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="85.5" x2="626.5" y1="911.3594" y2="911.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="97.5" y="906.5029">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="384" x="115.5" y="906.5029">shows freeAGVsList and requests to select one AGV from the list.</text><polygon fill="#181818" points="610.5,937.7109,620.5,941.7109,610.5,945.7109,614.5,941.7109" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;" x1="80.5" x2="616.5" y1="941.7109" y2="941.7109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="87.5" y="936.8545">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="505" x="105.5" y="936.8545">selects one AGV from the list, that will be automatically assigned to the selected order.</text><polygon fill="#181818" points="86.5,968.0625,76.5,972.0625,86.5,976.0625,82.5,972.0625" style="stroke:#181818;stroke-width:1.0;"/><line style="stroke:#181818;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="80.5" x2="626.5" y1="972.0625" y2="972.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="14" x="92.5" y="967.2061">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="156" x="110.5" y="967.2061">informs operation success.</text><!--MD5=[f7860874678abf59c2b5f299a3d5a0e9]
@startuml
'https://plantuml.com/sequence-diagram

autonumber

actor WarehouseEmployee as WE
participant AssignOrderToFreeAGVUI as UI
participant AssignOrderToFreeAGVController as Controller
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as orderRepository <<repository>>
database AGVRepository as agvRepository <<repository>>

activate WE

WE -> UI: wants to assign an order in to be prepared phase to an available AGV

activate UI

UI -> Controller: showPaidOrdersList()

activate Controller

Controller -> Persistence: repositories()

activate Persistence

Persistence -> Factory: create()

Persistence -> Controller: factory

deactivate Persistence

Controller -> Factory: orders()

activate Factory

Factory -> orderRepository: findAll()

Factory -> Controller: orderRepository

deactivate Factory

loop for Order order : orderRepository.findAll()

alt if order.getOrderStatus().equalsIgnoreCase("TO_BE_PREPARED")

Controller -> Controller: ordersToBePreparedList.add(order)

end

end

Controller -> UI: ordersToBePreparedList

deactivate Controller

UI - -> WE: shows ordersToBePreparedList and requests to select one order from the list.

deactivate UI

WE -> UI: selects one order from the list.

activate UI

UI -> Controller: showFreeAGVsList()

activate Controller

Controller -> Persistence: repositories()

activate Persistence

Persistence -> Factory: create()

Persistence -> Controller: factory

deactivate Persistence

Controller -> Factory: agvs()

activate Factory

Factory -> agvRepository: findAll()

Factory -> Controller: agvRepository

deactivate Factory

loop for AGV agv : agvRepository.findAll()

alt if agv.getTaskStatus().equalsIgnoreCase("free")

Controller -> Controller: freeAGVsList.add(order)

end

end

Controller -> UI: freeAGVsList

deactivate Controller

UI - -> WE: shows freeAGVsList and requests to select one AGV from the list.

deactivate UI

WE -> UI: selects one AGV from the list, that will be automatically assigned to the selected order.

activate UI

UI - -> WE: informs operation success.

deactivate UI

deactivate WE

@enduml

@startuml

autonumber

actor WarehouseEmployee as WE
participant AssignOrderToFreeAGVUI as UI
participant AssignOrderToFreeAGVController as Controller
participant PersistenceContext as Persistence <<persistence>>
participant RepositoryFactory as Factory <<factory>>
database OrderRepository as orderRepository <<repository>>
database AGVRepository as agvRepository <<repository>>

activate WE

WE -> UI: wants to assign an order in to be prepared phase to an available AGV

activate UI

UI -> Controller: showPaidOrdersList()

activate Controller

Controller -> Persistence: repositories()

activate Persistence

Persistence -> Factory: create()

Persistence -> Controller: factory

deactivate Persistence

Controller -> Factory: orders()

activate Factory

Factory -> orderRepository: findAll()

Factory -> Controller: orderRepository

deactivate Factory

loop for Order order : orderRepository.findAll()

alt if order.getOrderStatus().equalsIgnoreCase("TO_BE_PREPARED")

Controller -> Controller: ordersToBePreparedList.add(order)

end

end

Controller -> UI: ordersToBePreparedList

deactivate Controller

UI - -> WE: shows ordersToBePreparedList and requests to select one order from the list.

deactivate UI

WE -> UI: selects one order from the list.

activate UI

UI -> Controller: showFreeAGVsList()

activate Controller

Controller -> Persistence: repositories()

activate Persistence

Persistence -> Factory: create()

Persistence -> Controller: factory

deactivate Persistence

Controller -> Factory: agvs()

activate Factory

Factory -> agvRepository: findAll()

Factory -> Controller: agvRepository

deactivate Factory

loop for AGV agv : agvRepository.findAll()

alt if agv.getTaskStatus().equalsIgnoreCase("free")

Controller -> Controller: freeAGVsList.add(order)

end

end

Controller -> UI: freeAGVsList

deactivate Controller

UI - -> WE: shows freeAGVsList and requests to select one AGV from the list.

deactivate UI

WE -> UI: selects one AGV from the list, that will be automatically assigned to the selected order.

activate UI

UI - -> WE: informs operation success.

deactivate UI

deactivate WE

@enduml

PlantUML version 1.2022.4(Sat Apr 09 14:29:17 BST 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: Cp1252
Language: pt
Country: PT
--></g></svg>